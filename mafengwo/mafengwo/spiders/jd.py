# -*- coding: utf-8 -*-
import scrapy
import re


class GithubSpider(scrapy.Spider):
    name = 'jd'
    allowed_domains = ['home.jd.com']
    start_urls = ['https://home.jd.com/']

    def start_requests(self):
        cookies = 'user-key=8c6a938f-0ba7-4a1c-a54e-cc7331aaaf27; __jdu=1530060030630332495999; pinId=5Ux_jKaGlGNiUsqGcz67ULV9-x-f3wj7; unick=%E5%A5%BD%E7%9A%84%E4%BA%8B%E6%83%85LV; _tp=vkUYbWoipC8K%2FzJTmFO%2F2JO1nt%2BaYTKxHbEeXuTrgVY%3D; _pst=jd_6e203ffc12689; userInfoaccountclouds=1; ipLoc-djd=1-72-4137-0; areaId=1; mt_xid=V2_52007VwMWUFxZVVseSxhbB2YBEFFYUFZSF0EpWwdiChFUDl9OUk8dG0AANAATTg4LWl8DQRxcDWALQFZZWVZfL0oYXAx7AhVOXl5DWxZCHFgOYgAiUm1YYlkcTh5bB2AFEWJfXFNd; __jdc=122270672; PCSYCityID=country_2468; unpl=V2_ZzNtbUpTQhxyDkdSLBFZBGJUEVlKU0UXIghPBn4bXFFhVkFbclRCFXwUR1JnGFoUZAIZXEZcQRFFCHZUehhdBGYBFV5GZxpFKwhFVidSbDVkAyJVcldHF3QJQVV6G10CZQIQX0FSSxF9AE5kSx5sNVcCIlxyVnNeGwkLVH8bXQRgAhNfQ1BBFHcKRVFzHVQNbzMTbUE%3d; __jdv=122270672|www.hao123.com|t_1000003625_hao123mz|tuiguang|95086707f9404f259573f18c431e7db7|1530965137024; ceshi3.com=103; TrackID=1zLNm08G0oVwTcsW0774T8irsZ0bcaT1Tq-YmjxL3tthrO9PG_dwQtbR1runZ4HAy0ql5Qf9K3E4TOHtRBywKNzUZGClpHNPLOjoF9AUok2A; pin=jd_6e203ffc12689; cn=2; 3AB9D23F7A4B3C9B=Q3BXANIWCKQSPNE3AG5W2DA5HO7RZIMUSHBN6M4L5GWLGSB7SMKUPIWDNHIU3B7RQ6GA6CCLQFHLNMTJNESTC3IUOE; __jda=122270672.1530060030630332495999.1530060031.1530965137.1530968722.9; wlfstk_smdl=38idqslr460t9dsoubyigig4anfsnlir; __jdb=122270672.9.1530060030630332495999|9.1530968722; thor=8D70FC44BD074DD7BA34B14269F8AE559FFF0D865EF83C97BD80486E2C296F275F163049FA925031B9C6B71E0C618AB68FEDEF1138DC1A17DD1F1F1D8E9EC2C8A85361DA54CEF9BF03C2B4A13651DE6345D2FB3A2C804377EBC9FC626D8C3AC171FBDA919F9FFCB2D793A60118081E9DFEA21A1A389EBEE0083D0A40A7A260F7E1464B3A0CE45E534432763F2866BBB508B9629F2042DABE313C6BE76C0C857A'

        cookies = {i.split('=')[0]:i.split('=')[1] for i in cookies.split(';')}
        yield scrapy.Request(
            self.start_urls[0],
            callback=self.parse,
            cookies=cookies)

    def parse(self, response):
        print(re.findall(r'好的事情',response.body.decode("utf8","ignore")))